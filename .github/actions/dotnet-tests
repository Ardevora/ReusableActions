name: ".NET Tests"
description: "Run .NET tests for the specified test projects"

inputs:
  test_projects:
    description: "A list of test projects, one per line (optional)"
    required: false

runs:
  using: "composite"
  steps:
    - name: Run tests for each test project
      run: |
        if [[ -n "${{ inputs.test_projects }}" ]]; then
          while read -r test_project; do
            echo "Running tests for: $test_project"
            dotnet test "$test_project" --verbosity normal
          done <<< "${{ inputs.test_projects }}"
        else
          echo "No test projects specified, skipping test run"          
        fi
      shell: bash
